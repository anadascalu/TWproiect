 --VOLUNTARI
 
 --DROP TABLE VOLUNTARI CASCADE CONSTRAINTS;
 
/*
CREATE TABLE VOLUNTARI(
	idCutremur VARCHAR2(10) NOT NULL,
	idPersoana VARCHAR2(10) NOT NULL,
	nume VARCHAR2(15),
	prenume VARCHAR(15),
  CONSTRAINT cutremur6_fk FOREIGN KEY (idCutremur)  REFERENCES cutremur(idCutremur),
  CONSTRAINT morti1_pk PRIMARY KEY (idPersoana)
 
  );
  */
  


INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C1','V1','Ursachi','Florentina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C2','V2','Insuratelu','Angelica');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C3','V3','Dascalu','Aglaia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C4','V4','Popescu','Ana');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C5','V5','Lungu','Maria');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C6','V6','Adochitei','Lavinia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C7','V7','Apetre','Ioana');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C8','V8','Bacaoan','Delia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C9','V9','Barsan','Camelia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C10','V10','Bodnar','Andreea');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C11','V11','Dominte','Stelian');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C12','V12','Chibici','Eugenia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C13','V13','Feciuc','Teodor');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C14','V14','Gorgan','Mihai');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C15','V15','Mancas','Razvan');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C1','V16','Cotet','Cosmin');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C2','V17','Cociug','Emanuel');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C3','V18','Farcas','Felicia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C4','V19','Morosanu','Daniel');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C5','V20','Jitaru','Mihaela');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C6','V21','Maricean','Madalina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C7','V22','Gorgun','Liliana');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C8','V23','Postudor','Emilia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C9','V24','Prelipcean','Tudorina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C10','V25','Patrascu','Gherghina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C11','V26','Stoica','Iuliana');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C12','V27','Cobuz','Iulia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C13','V28','Tanasiu','Olimpia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C14','V29','Tanasa','Cristian');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C15','V30','Adascalitei','Corina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C1','V31','Ursache','Miruna');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C2','V32','Pomohaci','Vlad');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C3','V33','Anton','Madalina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C4','V34','Baetu','Marina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C5','V35','Talmaciu','Carmina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C6','V36','Martinas','Claudiu');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C7','V37','Marim','Claudia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C8','V38','Boca','Dana');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C9','V39','Coca','Alina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C10','V40','Domnaru','Paula');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C11','V41','Dragomir','Irina');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C12','V42','Hardon','Elena');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C13','V43','Grigoras','Octavian');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C14','V44','Tataru','Vasile');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C15','V45','Bomba','Eugen');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C1','V46','Bici','Grigore');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C2','V47','Coral','Marius');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C3','V48','Macariu','Mariana');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C4','V49','Costache','Andreia');

INSERT INTO VOLUNTARI ( idCutremur,idPersoana,nume,prenume) VALUES ('C5','V50','Cripa','Darius');


set serveroutput on;

DECLARE
v_contor INTEGER := 0;
v_numeNou VARCHAR2(15);
v_prenumeNou VARCHAR2(15);
v_idPersoanaNou NUMBER(4);


BEGIN
  SELECT COUNT(idPersoana) INTO v_idPersoanaNou FROM voluntari;
  FOR v_contor IN 1..200 LOOP
  DECLARE
  v_numeRandom NUMBER(10) := TRUNC(DBMS_RANDOM.VALUE(1,50));
  v_prenumeRandom NUMBER(10) := TRUNC(DBMS_RANDOM.VALUE(1,50));
  v_idCutremurRandom NUMBER(10) := TRUNC(DBMS_RANDOM.VALUE(1,15));

  
  BEGIN
      select prenume into v_prenumeNou from (select prenume, rownum as v_rn from voluntari) where v_rn=v_prenumeRandom;
      select nume into v_numeNou from (select nume, rownum as v_rn from voluntari) where v_rn=v_numeRandom;
    
      v_idPersoanaNou := v_idPersoanaNou + 1;
      
   INSERT INTO VOLUNTARI (IDCUTREMUR, IDPERSOANA, NUME, PRENUME) 
   VALUES ('C'||v_idCutremurRandom, 'V'||v_idPersoanaNou , v_numeNou, v_prenumeNou);
  END;
     END LOOP;
END;

select * from voluntari;
 
